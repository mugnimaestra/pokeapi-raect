(this["webpackJsonppokeapi-react"]=this["webpackJsonppokeapi-react"]||[]).push([[0],{42:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=n(0),a=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=Object(r.useRef)();Object(r.useEffect)((function(){o.current=n}),[n]),Object(r.useEffect)((function(){if(a&&a.addEventListener){var e=function(e){return o.current(e)};return a.addEventListener(t,e),function(){a.removeEventListener(t,e)}}}),[t,a])}}).call(this,n(16))},44:function(e,t,n){e.exports=n(73)},49:function(e,t,n){},50:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(33),c=n.n(o),i=(n(49),n(6)),u=n(7),l=(n(50),n(21)),s=n(3),m=n.n(s),p=n(8),f=n(5),v=n(9),d=n(10),h=new(n(74).Pokedex)({protocol:"https",versionPath:"/api/v2/",cache:!0,timeout:5e3}),b={limit:21},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b;return h.getPokemonsList(e)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return h.resource(e)},x=function(e){return h.getPokemonByName(e)};function j(){var e=Object(v.a)(["\n  border: 1px solid #000;\n  width: 150px;\n  height: 170px;\n  padding: 1rem;\n  margin: 1rem;\n  transition: box-shadow ease-in-out 0.3s;\n  position: relative;\n  &:hover {\n    cursor: pointer;\n    box-shadow: 5px 5px 0px 0px #000;\n  }\n  a {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    opacity: 0;\n  }\n"]);return j=function(){return e},e}var k=d.a.div(j()),O=function(e){var t=e.name,n=e.types,r=e.sprite,o=n.map((function(e){return e.type.name}));return a.a.createElement(k,null,a.a.createElement("div",null,"Pokemon Name: ",t),a.a.createElement("div",null,"Pokemon Type: ",o.join(", ")," "),a.a.createElement("img",{src:r,alt:"default-sprite"}),a.a.createElement(i.b,{to:"/pokemon/".concat(t)},"Go to pokemon page"))},y=n(41),w=n.n(y),N=n(42),L=n(43),P=n.n(L),S=function(e){var t=e.getNextPage,n=e.isLoading,o=Object(r.useRef)(),c=P.a.debounce((function(){w.a.inViewport(o.current)&&t()}),1e3);Object(N.a)("scroll",c);return a.a.createElement("div",{ref:o,onClick:t,style:{margin:"1rem",cursor:"pointer"}},n?"Loading more pokemons....":"Click to load more pokemons")};function B(){var e=Object(v.a)(["\n  .pokemon-container {\n    max-width: 720px;\n    display: flex;\n    align-items: stretch;\n    flex-wrap: wrap;\n    margin: 0 auto;\n    justify-content: center;\n  }\n"]);return B=function(){return e},e}var C=d.a.div(B()),F=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)([]),i=Object(f.a)(c,2),u=i[0],s=i[1],v=Object(r.useState)(!1),d=Object(f.a)(v,2),b=d[0],x=d[1],j=Object(r.useState)("No filter"),k=Object(f.a)(j,2),y=k[0],w=k[1],N=Object(r.useState)([]),L=Object(f.a)(N,2),P=L[0],B=L[1],F=Object(r.useState)({next:null,previous:null}),G=Object(f.a)(F,2),T=G[0],W=G[1];Object(r.useEffect)((function(){var e=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E().then((function(e){W({next:e.next,previous:e.previous}),o(e.results)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getTypesList().then((function(e){B(e.results)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),e()}),[]),Object(r.useEffect)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=n.map((function(e){return e.url}))).length>0)){e.next=4;break}return e.next=4,g(t).then((function(e){s(e)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]);var _=u.length>0&&"No filter"!==y?u.filter((function(e){return"No filter"===y?e:e.types.some((function(e){return e.type.name===y}))})):u,I=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(x(!0),!T.next){e.next=4;break}return e.next=4,g([T.next]).then((function(e){W({next:e[0].next,previous:e[0].previous}),o([].concat(Object(l.a)(n),Object(l.a)(e[0].results))),x(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.a.createElement(C,null,a.a.createElement("div",null,"Filter by type:"),a.a.createElement("select",{defaultValue:"No filter",onChange:function(e){return function(e){w(e.target.value)}(e)}},a.a.createElement("option",null,"No filter"),P.map((function(e){return a.a.createElement("option",{key:e.name},e.name)}))),a.a.createElement("div",{className:"pokemon-container"},_.map((function(e){return a.a.createElement(O,{key:e.name,name:e.name,types:e.types,sprite:e.sprites.front_default})}))),T.next&&a.a.createElement(S,{isLoading:b,getNextPage:I}))},G=function(){return a.a.createElement("div",null,"Page not found",a.a.createElement(i.b,{to:"/"},a.a.createElement("button",null,"Go back home")))};function T(){var e=Object(v.a)(["\n  border: 1px solid #000;\n  width: 600px;\n  min-height: 300px;\n  margin: 3rem auto;\n  .moves-container {\n    display: flex;\n    flex-wrap: wrap;\n    align-items: center;\n    justify-content: center;\n    li {\n      flex: 1 1 20%; /*grow | shrink | basis */\n      height: 50px;\n    }\n  }\n"]);return T=function(){return e},e}var W=d.a.div(T()),_=function(e){var t=e.match.params._name,n=Object(r.useState)({}),o=Object(f.a)(n,2),c=o[0],u=o[1];Object(r.useState)((function(){(function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t).then((function(e){u(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var l=c.name,s=c.id,v=c.types,d=c.moves,h=c.height,b=c.weight,E=v?v.map((function(e){return e.type.name})):null,g=d?d.map((function(e){var t;return null===e||void 0===e||null===(t=e.move)||void 0===t?void 0:t.name})):null;return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.b,{to:"/"},"Go Back"),Object.keys(c).length>0&&a.a.createElement(W,null,a.a.createElement("br",null),a.a.createElement("div",null,"Name: ",l),a.a.createElement("div",null,"ID: ",s),a.a.createElement("div",null,"Height: ",10*h,"cm"),a.a.createElement("div",null,"Weight: ",b/10,"kg"),a.a.createElement("div",null,"Type: ",E.join(", ")),a.a.createElement("br",null),a.a.createElement("div",null,"List of sprites:"),Object.entries(c.sprites).map((function(e){return e[1]?a.a.createElement("img",{key:e[0],src:e[1],alt:"sprite"}):a.a.createElement(a.a.Fragment,{key:e[0]})})),a.a.createElement("div",null,"List of ",l," moves (",g.length,"):"),a.a.createElement("div",{className:"moves-container"},g.map((function(e){return a.a.createElement("li",null,e)})))))};var I=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(i.a,null,a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/",exact:!0,render:function(e){return a.a.createElement(F,e)}}),a.a.createElement(u.a,{path:"/pokemon/:_name",component:_}),a.a.createElement(u.a,{component:G}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);
//# sourceMappingURL=main.23ff1938.chunk.js.map